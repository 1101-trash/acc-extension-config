; hong.ini

[ABOUT]
AUTHOR=leBluem
VERSION=1.1
DATE_RELEASE=2022 feb
LIGHTS_COUNT=~1k
NOTES=custom emissives for buildings

[INCLUDE]
INCLUDE=common/conditions.ini, common\custom_emissive.ini, common/grass_fx.ini

[BOUNCED_LIGHT]
SUPPORTED = 1
; SURFACE_MESHES =
; SURFACE_MATERIALS = edge_tar1, tarmac?, garden, conc_wall, earthbank_01, fea_main_wall_02, inf_concrete, fea_main_wall, edge_tar1, edgestrip_s01
OBJECT_MATERIALS = emissive, ?tower?, ?block?, ?tree?, ?distance?, ?_fea_?, ?post?, decal_solids, ?house?, ?barrier?, material #25!0, ?_fea_?, hon_tram_shelter_a_1
OCCLUDING_MATERIALS =
OCCLUDING_MESHES = city.000
CLIP_POINT_0 = -1329.91, 80.45, -93.42
CLIP_POINT_1 = -1707.77, 113.17, -902.16
CLIP_POINT_2 = 112.17, -78.77, 341.8
CLIP_POINT_3 = 741.51, -143.47, -36.68
CLIP_POINT_4 = 1076.88, -150.58, 140.19
CLIP_POINT_5 = 1141.15, -160.34, -5.53
CLIP_POINT_6 = 1133.63, -165.85, -192.44
CLIP_POINT_7 = 547.05, -191.27, -433.02
CLIP_POINT_8 = 753.62, -207.29, -430.68
CLIP_POINT_9 = 881.43, -233.08, -508.4
CLIP_POINT_10 = -383.4, -245.94, -938.29
CLIP_POINT_11 = -331.33, -249.36, -1180.32
CLIP_POINT_12 = -1643.13, 99.36, -751.95
CLIP_POINT_13 = -1693.82, 116.06, -877.53
CLIP_POINT_14 = 1132.24, -164.64, -101.61
CLIP_POINT_15 = 605.83, -242.22, -856.21
CLIP_POINT_16 = -253.49, -249.76, -1161.54
CLIP_POINT_17 = -148.53, -251.52, -1138.5
CLIP_POINT_18 = -416.12, -248.76, -1235.54

[SHADER_REPLACEMENT_...]
MATERIALS = conc_wall, hon_?, tarmac2, inner_land, ?tunnel?, hon_fea_galleria?, wall_barrier, barrier_outer, core_?, edge_?
; garden,
CAST_SHADOWS = 1
DOUBLE_FACE_SHADOW_BIASED = 1

[SHADER_REPLACEMENT_...]
MESHES = high_012_009, high_012_004, high_012_003, low_012, high.012, conc_wall, hon_?, tarmac2, inner_land, ?tunnel?, hon_fea_galleria?, wall_barrier, barrier_outer, core_?, edge_?
CAST_SHADOWS = 1
DOUBLE_FACE_SHADOW_BIASED = 1

[SHADER_REPLACEMENT_...]
MATERIALS = hon_distance_02_d, hon_distance_01_d
PROP_... = ksAmbient, 0.175
PROP_... = ksDiffuse, 0.175
PROP_... = ksAlphaRef, 0.5

[MODEL_REPLACEMENT_0]
FILE=hong.kn5
INSERT=hong__lights.kn5
INSERT_AFTER=city.057
HIDE=light.post.002, light_post_001_001, light_post_002, light_post_003, light_post_005_001, light_post_006, light_post_007_001, light_post_009, light_post_010_001, light_post_012_001, light_post_014_002

;;;;;;;;;;;;;;;;
; street lights1
;;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_0]
ACTIVE=1
DESCRIPTION=round lits
MESHES=?aaaroundlits?
KEY_0=ksEmissive
VALUE_0=211,184,66,0.2
VALUE_0_OFF=ORIGINAL
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=ORIGINAL
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_0]
ACTIVE=1
DESCRIPTION=round lits
MESHES=?aaaroundlits?
OFFSET=0,0,0
DIRECTION=0,-1,0
SPOT=180
SPOT_SHARPNESS=0.25
RANGE=30
RANGE_GRADIENT_OFFSET=0.01
FADE_AT=1000
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
DIFFUSE_CONCENTRATION=0.9
COLOR=211,184,66,0.035
CONDITION=NIGHT_SMOOTH

SHADOWS = 1
SHADOWS_CLIP = 0.05
SHADOWS_OFFSET = 0, -0.05, 0

;;;;;;;;;;;;;;;;
; street lights2
;;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_1]
ACTIVE=1
DESCRIPTION=small round lits
MESHES=?aaasmallround?
KEY_0=ksEmissive
VALUE_0=255,124,30,0.15
VALUE_0_OFF=ORIGINAL
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=ORIGINAL
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_1]
ACTIVE=1
DESCRIPTION=small round lits
MESHES=?aaasmallround?
OFFSET=0,-1,0
DIRECTION=0,-1,0
SPOT=180
SPOT_SHARPNESS=0.25
RANGE=20
RANGE_GRADIENT_OFFSET=0.01
FADE_AT=1000
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,124,30,0.05
CONDITION=NIGHT_SMOOTH

SHADOWS = 1
SHADOWS_HALF_RESOLUTION = 1
SHADOWS_STATIC = 1
SHADOWS_CLIP = 0.05
SHADOWS_OFFSET = 0, -0.05, 0

;;;;;;;;;;;;;;;;
; street lights3
;;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=overhanging street lights
MESHES=aaaoverhang?
KEY_0=ksEmissive
VALUE_0=211,124,36,0.25
VALUE_0_OFF=0, 0, 0
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=0
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION=overhanging street lights
MESHES=aaaoverhang?
OFFSET=0,0,0
DIRECTION=0,-1,0
SPOT=170
SPOT_SHARPNESS=0.4
RANGE=30
RANGE_GRADIENT_OFFSET=0.05
FADE_AT=1000
FADE_SMOOTH=25
CLUSTER_THRESHOLD=3
COLOR=211,124,36,0.04
CONDITION=NIGHT_SMOOTH

SHADOWS = 1
SHADOWS_CLIP_PLANE = 0.1
SHADOWS_CLIP_SPHERE = 2.1
; SHADOWS_OFFSET = 0, -0.5, 0

;;;;;;;;;;;;;;;;;;;;;;

[LIGHT_POLLUTION]
;;; km's
RELATIVE_POSITION = -0.036, 0.2, -0.513
RADIUS_KM = 7
DENSITY = 0.75
COLOR = 1.0, 0.65, 0.4
CONDITION=NIGHT_SMOOTH

;;;;;;;;;;;;;;;;;;;;;;
; MATERIAL_ADJUSTMENTs
;;;;;;;;;;;;;;;;;;;;;;

[Material_DistantEmissive]
Materials=mattoplight
DistantGlowMult_v2 = 0.5
DotRadiusMult_v2 = 1.0
DotMaxDistance = 6000.0  ; max distance for dot glow (starts fading out at half of it)

[MATERIAL_ADJUSTMENT_...]
DESCRIPTION=Red Lights on top of buildings
ACTIVE=1
MATERIALS=mattoplight
KEY_0=ksEmissive
VALUE_0=255,1,1,0.25
VALUE_0_OFF=ORIGINAL
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;;

[LIGHT_SERIES_5]
DESCRIPTION=_hon_phone_booth_a_1
ACTIVE=1
MATERIALS=_hon_phone_booth_a_1
OFFSET=0,1,0
DIRECTION=0,-1,0
SPOT=150
SPOT_SHARPNESS=0.5
RANGE=10
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=600
FADE_SMOOTH=25
CLUSTER_THRESHOLD=32
COLOR=255,244,229,0.03
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_7]
DESCRIPTION=hon_fea_market_a_3
ACTIVE=1
MATERIALS=hon_fea_market_a_3
OFFSET=0,0,0
DIRECTION=0,-1,0
SPOT=180
SPOT_SHARPNESS=0.5
RANGE=15
RANGE_GRADIENT_OFFSET=0.3
FADE_AT=600
FADE_SMOOTH=25
CLUSTER_THRESHOLD=10
COLOR=255,190,120,0.035
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_8]
DESCRIPTION=traffic signs
ACTIVE=1
MATERIALS=hon_street_n_c_main
OFFSET=0,-4,4
DIRECTION=0,1,0
SPOT=170
SPOT_SHARPNESS=0.5
RANGE=10
RANGE_GRADIENT_OFFSET=0.5
FADE_AT=1000
FADE_SMOOTH=25
CLUSTER_THRESHOLD=8
COLOR=255,255,255,0.05
CONDITION=NIGHT_SMOOTH

;;; underpass
; [LIGHT_SERIES_...]
; DESCRIPTION=first bridge after s/f
; ACTIVE=1
; MATERIALS=hon_gen_bridge_a_01
; OFFSET=0,-2,0
; DIRECTION=NORMAL
; DIRECTION_ALTER=0,0,1
; SPOT=170
; SPOT_SHARPNESS=0.7
; RANGE=12
; RANGE_GRADIENT_OFFSET=0.2
; FADE_AT=500
; FADE_SMOOTH=25
; CLUSTER_THRESHOLD=6
; COLOR=255,255,255,0.025
; CONDITION=NIGHT_SMOOTH

[TRACK_MAP]
BUILDINGS_MATERIALS = ?block?, ?galler?, ?tower?, ?house?, ?lookout?, ?market?, emissive
ROADS_MATERIALS = edge?, tar?, road?, petrol, inf_brick_path
WALLS_MATERIALS =
WALLS_MESHES =
GRASS_MATERIALS =
GRASS_COVER_MATERIALS =

[SHADER_REPLACEMENT_...]
MATERIALS = decal_01, decal_02, decal_solids
DEPTH_MODE = READ_ONLY
; MOVE_MESH_BEHIND = ograda.062
MOVE_MESH_BEHIND = parent:modelRoot:y

; Just to clarify, the way `MOVE_MESH_BEHIND` works, it finds all nodes and meshes with given filter and then moves original mesh so
; it would be rendered *after* the one found. Filter `parent:modelRoot:y` finds all the children in track root node, so `MOVE_MESH_BEHIND`
; moves decals after the last one of track meshes. Adding it more as a comment for myself because I just got confused by it.

[RAIN_FX]
PUDDLES_MATERIALS = roadline, tarmac?, edge_tar?, edge_09, tar_?, road_?, petrol, inf_crazy, inf_concrete, decal_01, decal_02, decal_solids
SOAKING_MATERIALS = roadline, tarmac?, edge_tar?, edge_09, tar_?, road_?, petrol, inf_crazy, inf_concrete, conc_wall, hon_gen_bridge_?, hon_fea_tunnel_?, wall_barrier, barrier_outer, edge_set?
SMOOTH_MATERIALS = hon_fence?, hon_sign?, hon_fea_galleria_a_5, hon_fea_galleria_a_7, hon_car?
ROUGH_MATERIALS = low_track_sec_01_material, garden
LINES_MATERIALS = whiteline, yellowline

[SHADER_REPLACEMENT_...]
MATERIALS = hon_tree?
SHADER = ksTree_ppshadows

[SHADER_REPLACEMENT_...]
MESHES = flat.trees.?
SHADER = ksTree

[ALTER_NORMALS_...]
MESHES = flat.trees.?
OFFSET = 0, 1e9, 0

[SHADER_REPLACEMENT_...]
MATERIALS = vista, inner_land, hon_gen_tower?
SHADER = ksPerPixel_ppfog

;;;

[CONDITION_...]
NAME=BLINKA
INPUT=ONE
FLASHING_FREQUENCY=5
FLASHING_SMOOTHNESS=0.25

[CONDITION_...]
NAME=BLINKB
INPUT=ONE
FLASHING_FREQUENCY=-5
FLASHING_SMOOTHNESS=0.25

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; lots of new textures from new "hong__lights.kn5"

[SHADER_REPLACEMENT_...]
MATERIALS=hon_roadsign_c
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse105m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_roadsign_c
KEY_0 = ksEmissive
VALUE_0 = 255,255,255, 0.85
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION = BLINKA

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_neon_signs_e
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse071m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_neon_signs_e
KEY_0 = ksEmissive
VALUE_0 = 255,224,127,0.03
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_lookout_a_e
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse022m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_lookout_a_e
KEY_0 = ksEmissive
VALUE_0 = 255,224,127,0.05
VALUE_0_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH


;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_bus_shelter_a_01
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse019m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_bus_shelter_a_01
KEY_0 = ksEmissive
VALUE_0 = 255,244,229,0.025
VALUE_0_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH


[LIGHT_SERIES_6]
DESCRIPTION=bus_shelter
ACTIVE=1
MATERIALS=hon_bus_shelter_a_01
OFFSET=0,-5,0
DIRECTION=0,1,0
SPOT=180
RANGE=10
SPOT_SHARPNESS=0.5
RANGE_GRADIENT_OFFSET=0.5
FADE_AT=600
FADE_SMOOTH=25
CLUSTER_THRESHOLD=10
COLOR=255,244,229,0.05
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tower_boc_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse064m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tower_boc_1
KEY_0 = ksEmissive
VALUE_0 = 255,224,127,0.1
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tower_icc_2
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse065m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tower_icc_2
KEY_0 = ksEmissive
VALUE_0 = 255,224,127,0.035
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_tunnel_light_b_emis?
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse046m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_tunnel_light_b_emis?
KEY_0 = ksEmissive
VALUE_0 = 127,255,127, 0.1
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=ALWAYS_ON

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tunnel_a_runoff
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse046m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tunnel_a_runoff
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.1
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH



;;;

[SHADER_REPLACEMENT_...]
MATERIALS=emissive
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.015m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=emissive
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.025
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH


;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_tower_d_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse048m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_tower_d_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.01
VALUE_0_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_cluster_a_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.059m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_cluster_a_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.0075
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_cluster_b_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.061m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_cluster_b_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.0145
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_block_e_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.008m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_block_e_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.005
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH


;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_tower_e_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.011m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_tower_e_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.005
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_tower_f_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.006m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_tower_f_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.025
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tower_che_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.062m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tower_che_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.025
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tower_cnt_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.063m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tower_cnt_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.025
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH


;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_market_a_3
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.057m.dds
FILL_MISSING_TEXTURES=1
FORCE_POINT_SAMPLER = 1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_market_a_3
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.025
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tower_ifc_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse060m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tower_ifc_1
KEY_0 = ksEmissive
VALUE_0 = 135,141,153,0.025
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_tower_a_emissive, material #25
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.004m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_tower_a_emissive, material #25
KEY_0 = ksEmissive
VALUE_0 = 135,141,153,0.025
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=emissive night, hon_fea_foundation_b_05, hon_fea_galleria_a_4, hon_fea_tower_a_3
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Texture.005m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=emissive night, hon_fea_foundation_b_05, hon_fea_galleria_a_4, hon_fea_tower_a_3
KEY_0 = ksEmissive
VALUE_0 = 135,141,153,0.05
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=material #25!1, material #25!0, hon_gen_block_a_03
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.036m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=material #25!1, material #25!0, hon_gen_block_a_03
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.02
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_tower_g_5, hon_gen_tower_g_2
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.049m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_tower_g_5, hon_gen_tower_g_2
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.05
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_block_d_01
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.033m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_block_d_01
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.01
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_block_b_e
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.027m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_block_b_e
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.005
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_galleria_a_9, hon_fea_foundation_b_06
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Texture.001m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_galleria_a_9, hon_fea_foundation_b_06
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.05
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_galleria_a_6
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Texture.001m.dds
FILL_MISSING_TEXTURES=1


[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_galleria_a_6
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.05
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_...]
ACTIVE=1
MATERIALS=hon_fea_galleria_a_6
DIRECTION=NORMAL
SPOT=175
SPOT_SHARPNESS=0.5
RANGE=8
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=600
FADE_SMOOTH=25
CLUSTER_THRESHOLD=1
COLOR=255,244,229,0.025
CONDITION=NIGHT_SMOOTH


;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_tram_shelter_a_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.087m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_tram_shelter_a_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.02
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tower_a_1
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.068m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tower_a_1
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.1
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_tower_a_2
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.067m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_tower_a_2
KEY_0 = ksEmissive
VALUE_0 = 155,155,255,0.05
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_galleria_a_8, hon_fea_galleria_a_5, hon_fea_galleria_a_2
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.005m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_fea_galleria_a_5, hon_fea_galleria_a_2
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.01
VALUE_0_OFF = ORIGINAL
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_house_a_01
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.031m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_house_a_01
KEY_0 = ksEmissive
VALUE_0 = 205,255,205,0.005
VALUE_0_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_gen_tower_b_e
SHADER=ksPerPixelMultiMap_emissive
RESOURCE_4=txEmissive
RESOURCE_TEXTURE_4 = Diffuse.041m.dds
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS=hon_gen_tower_b_e
KEY_0 = ksEmissive
VALUE_0 = 255,255,255,0.02
VALUE_0_OFF = ORIGINAL
CONDITION=NIGHT_SMOOTH

;;; end of "lots of new textures"
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_...]
ACTIVE=1
DESCRIPTION=fea galleria spots
MATERIALS=hon_fea_galleria_a_8
KEY_0=ksEmissive
VALUE_0=255,244,229,0.15
VALUE_0_OFF=0, 0, 0
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_...]
DESCRIPTION=_hon_phone_booth_a_1
ACTIVE=1
MATERIALS=hon_fea_galleria_a_8
DIRECTION=NORMAL
SPOT=150
SPOT_SHARPNESS=0.5
RANGE=15
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=600
FADE_SMOOTH=25
CLUSTER_THRESHOLD=5
COLOR=255,244,229,0.05
CONDITION=NIGHT_SMOOTH

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


[MATERIAL_ADJUSTMENT_...]
MATERIALS=decal?, hon_sign_chevron?
KEY_... = ksDiffuse
VALUE_... = 0.6
VALUE_OFF_... = ORIGINAL
PROP_... = extColoredReflection, 0.5
PROP_... = extBounceBack, 0.5

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=hon_fea_galleria_a_7, hon_fea_tower_a_4, _hon_phone_booth_a_1, dressing, hon_gen_house_a_03, hon_distance_01_d
CULL_MODE=DOUBLE_FACED
BLEND_MODE=ALPHA_TEST

;;;

[CustomEmissive]
Materials = hon_tunnel_light_a_1
Resolution = 128, 128
SHADER=ksPerPixelMultiMap_emissive
@ = CustomEmissive_Rect, Channel = 0, Start = "9, 6", Size = "109, 4", Exponent=2.0
@ = CustomEmissive_Rect, Channel = 1, Start = "8, 19", Size = "108, 5", Exponent=2.0
@ = CustomEmissive_Rect, Channel = 2, Start = "3, 2", Size = "121, 23", Exponent=2.0, CornerRadius=0.25
FILL_MISSING_TEXTURES=1

[MATERIAL_ADJUSTMENT_...]
MATERIALS = hon_tunnel_light_a_1
KEY_... = ksEmissive
VALUE_... = 45
KEY_... = ksEmissive1
VALUE_... = 42
KEY_... = ksEmissive2
VALUE_... = 3
KEY_... = ksAlphaRef
VALUE_... = -193
CONDITION=ALWAYS_ON

[LIGHT_SERIES_...]
ACTIVE=1
MATERIALS=hon_tunnel_light_a_1
OFFSET=0,0,0
DIRECTION=NORMAL
SPOT=150
SPOT_SHARPNESS=0.7
RANGE=13
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=6
COLOR=255,255,255,0.015
CONDITION=ALWAYS_ON

;;; some single spots around supermarket

[LIGHT_...]
POSITION=-1593.975, 97.222, -554.5294
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=20
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

[LIGHT_...]
POSITION=-1599.0221, 97.2251, -556.7357
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=20
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

[LIGHT_...]
POSITION=-1605.8883, 97.2218, -559.8771
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=20
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

[LIGHT_...]
POSITION=-1611.8383, 97.2125, -563.1266
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=20
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

;;;

[LIGHT_...]
POSITION=-1625.0608, 102.2777, -637.7928
OFFSET=0,0,0
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=15
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

[LIGHT_...]
POSITION=-1624.7471, 102.2749, -640.8776
OFFSET=0,0,0
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=15
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

[LIGHT_...]
POSITION=-1624.4227, 102.2323, -644.3849
OFFSET=0,0,0
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=15
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

[LIGHT_...]
POSITION=-1622.2217, 101.3364, -650.8027
OFFSET=0,0,0
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=15
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

[LIGHT_...]
POSITION=-1622.0061, 100.1921, -654.6227
OFFSET=0,0,0
SPOT=160
SPOT_SHARPNESS=0.7
RANGE=15
RANGE_GRADIENT_OFFSET=0.2
FADE_AT=500
FADE_SMOOTH=25
CLUSTER_THRESHOLD=15
COLOR=255,255,255,0.025
CONDITION=NIGHT_SHARP

;;;

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION=big spots for every tower from below
MATERIALS=hon?tower?
OFFSET=0,-70,0
DIRECTION=0,1,0
SPOT=180
SPOT_SHARPNESS=0.5
RANGE=100
RANGE_GRADIENT_OFFSET=0.1
FADE_AT=3000
FADE_SMOOTH=50
CLUSTER_THRESHOLD=45
COLOR=255,225,205,0.035
CONDITION=NIGHT_SMOOTH

[LIGHT_SERIES_...]
ACTIVE=1
DESCRIPTION=mid sized spots for every block from below
MATERIALS=hon?block?, hon_fea_market_a_1
OFFSET=0,-40,0
DIRECTION=0,1,0
SPOT=180
SPOT_SHARPNESS=0.5
RANGE=50
RANGE_GRADIENT_OFFSET=0.1
FADE_AT=1500
FADE_SMOOTH=50
CLUSTER_THRESHOLD=45
COLOR=255,225,205,0.025
CONDITION=NIGHT_SMOOTH

;;;

[SHADER_REPLACEMENT_...]
MATERIALS=fea_main_wall
SHADER=ksPerPixelNM
RESOURCE_1=txNormal
RESOURCE_TEXTURE_1 = Diffuse.145n.dds
PROP_... = ksAmbient, 0.3
PROP_... = ksDiffuse, 0.3
PROP_... = ksSpecular, 0.05
PROP_... = ksSpecularEXP, 25

;;;

;;; shaderReplacement for grass to work

[SHADER_REPLACEMENT_...]
MATERIALS=garden
SHADER=ksPerPixel
RESOURCE_0=txDiffuse
; more green than default
RESOURCE_TEXTURE_0 = Diffuse.028.dds
PROP_... = ksAmbient, 0.3
PROP_... = ksDiffuse, 0.3

[GRASS_FX]
GRASS_MATERIALS=garden
MASK_MAIN_THRESHOLD = -1
MASK_RED_THRESHOLD = 1
MASK_MIN_LUMINANCE = -1
MASK_MAX_LUMINANCE = 1
TEXTURE =  grass_fx/highlands.dds
TEXTURE_GRID = 8, 3

[GRASS_FX_TEXTURE_GROUP_0]
PIECE_0=1, 0
PIECE_0_CHANCE=0.0875
PIECE_1=2, 0
PIECE_1_CHANCE=0.0875
PIECE_2=3, 0
PIECE_2_CHANCE=0.0875
PIECE_3=4, 0
PIECE_3_CHANCE=0.0875
PIECE_4=5, 0
PIECE_4_CHANCE=0.0875
PIECE_5=6, 0
PIECE_5_CHANCE=0.0875
PIECE_6=7, 0
PIECE_6_CHANCE=0.0875
PIECE_7=8, 0
PIECE_7_CHANCE=0.0875
PIECE_8=6, 1
PIECE_8_CHANCE=0.0875
PIECE_9=7, 1
PIECE_9_CHANCE=0.0875
PIECE_10=8, 1
PIECE_10_CHANCE=0.0875
PIECE_11=1, 2, 2, 1   ; ok one with yellow and white floers
PIECE_11_CHANCE=0.0875

[GRASS_FX_TEXTURE_GROUP_1]
PIECE_12=1, 8
PIECE_12_CHANCE=0.1
PIECE_13=2, 6
PIECE_13_CHANCE=0.1
PIECE_14=2, 7
PIECE_14_CHANCE=0.1
PIECE_15=2, 8
PIECE_15_CHANCE=0.1
PIECE_16=3, 1, 1, 2 ; piece taking 1x2 slots, the one with purple flowers
PIECE_16_CHANCE=0.025
PIECE_16_SIZE_MULT=0.75, 1.1 ; default size multiplier is based on size in cells, overriding
PIECE_17=6, 2, 1, 1 ; yellow flowers
PIECE_17_CHANCE=0.1
PIECE_17_SIZE_MULT=0.8, 1.1 ; default size multiplier is based on size in cells, overriding
PIECE_18=7, 2, 1, 1 ; blue flowers
PIECE_18_CHANCE=0.025
PIECE_18_SIZE_MULT=0.9, 1.5 ; default size multiplier is based on size in cells, overriding
PIECE_19=8, 2, 1, 1 ; red flowers
PIECE_19_CHANCE=0.0075
PIECE_19_SIZE_MULT=0.9, 1.5 ; default size multiplier is based on size in cells, overriding
PIECE_20=4, 1, 2, 2 ; piece taking 2x2 slots, the one with long gras
PIECE_20_CHANCE=0.25
PIECE_20_SIZE_MULT=1, 1.5 ; default size multiplier is based on size in cells, overriding

[GRASS_FX_CONFIGURATION_A]
TEXTURE_BASE_CHANCE = 1
TEXTURE_GROUP_0_CHANCE = 0.5
TEXTURE_GROUP_1_CHANCE = 0.25
SHAPE_SIZE=4, 6

[GRASS_FX_ADJUSTMENT_...]
MATERIALS = garden
MAP=B
