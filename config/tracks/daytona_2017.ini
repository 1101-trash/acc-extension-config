; https://github.com/ac-custom-shaders-patch/acc-extension-config/blob/master/config/tracks/daytona_2017.ini

[ABOUT]
AUTHOR=Rusty + leBluem
VERSION=1.2
DATE_RELEASE=2020-sep-21
LIGHTS_COUNT=172
NOTES=Rework of olde config, most of the code here is new.

[LIGHTING]
SPECULAR_MULT=1.0
LIT_MULT=1.0
CAR_LIGHTS_LIT_MULT=1.0

[INCLUDE]
INCLUDE=common/conditions.ini, common/materials_track.ini

[Material_DigitalScreen]
Materials=NIGHT_JUMBOSCREEN,NIGHT_JUMBOSCREE

[Material_DistantEmissive]
Materials=MATspots,MATfloodlightcorners,MATmuscoinfield
DistantGlowMult_v2 = 1
DistanceMult_v2 = 0.5
FloodlightPower = 0.5
FloodlightEXP = 1
BrightnessMult = 4

[Material_Water]
Materials=WATER01
WaterForceOpaque = vis1water_lake2
Type=POND

[BOUNCED_LIGHT]
SUPPORTED=1
SURFACE_MATERIALS=OVALRD?,OROD?,IRDA?,ROAD?,CONC?
OBJECT_MATERIALS=SAFE?,?WAL?,?FENC?,JAX?
OCCLUDING_MATERIALS=DAYTONAC?,?build?,GS?,PEOPLE?,topstand?,SPEEDCHANNEL

[MODEL_REPLACEMENT_0]
FILE=daytona_2017.kn5
INSERT=daytona_2017__lights.kn5
INSERT_AFTER=scoretower03_001

[MODEL_REPLACEMENT_1]
FILE=daytona_2017.kn5
HIDE=floodlight?_SUB1, outfence01

[MODEL_REPLACEMENT_2]
FILE=daytonalightson.kn5
HIDE=floodlightson_lightposts?on, floodlightson_inf_talllites_?on?

[MODEL_REPLACEMENT_3]
FILE=grass.kn5
HIDE=Object0?


[CONDITION_0]
NAME=RACING_FLAG
INPUT=FLAG_TYPE
LUT==(|1=0,1,0|2=1,1,0|3=1,0.5,0|4=1,0.3,0|5=1,0,0|6=0.7,0.7,0.7|7=1,0.5,0.5|8=0.1,0.1,0.1|9=0,0,0.1|10=0.5,0.5,0.5|11=0.5,0.5,0.5|12=0,0,1|13=0,0,0|14=1,1,1|)

[CONDITION_1]
NAME=FLAG_BLINK0
INPUT=ONE
FLASHING_FREQUENCY=5
FLASHING_SMOOTHNESS=0
FLASHING_SKIP_OFF_STATE=0
FLASHING_NOISE_AMPLITUDE=0
FLASHING_MIN_VALUE=0.0
FLASHING_SYNCED=1

[CONDITION_2]
NAME=FLAG_BLINK1
INPUT=ONE
FLASHING_FREQUENCY=10
FLASHING_SMOOTHNESS=0
FLASHING_SKIP_OFF_STATE=0
FLASHING_NOISE_AMPLITUDE=0
FLASHING_MIN_VALUE=0.0
FLASHING_SYNCED=1

[CONDITION_3]
NAME=FLAG_BLINK2
INPUT=ONE
FLASHING_FREQUENCY=-10
FLASHING_SMOOTHNESS=0
FLASHING_SKIP_OFF_STATE=0
FLASHING_NOISE_AMPLITUDE=0
FLASHING_MIN_VALUE=0.0
FLASHING_SYNCED=1

[CONDITION_4]
NAME=DISCOLIGHTS
INPUT=ONE
FLASHING_FREQUENCY=0.1
FLASHING_SKIP_OFF_STATE=1
FLASHING_NOISE_AMPLITUDE=0
FLASHING_MIN_VALUE=0.0
FLASHING_SYNCED=0
FLASHING_SKIP_DOWNHILL_STATE=1
FLASHING_SMOOTHNESS=LINEAR
FLASHING_LUT=(|0=1,0.9,0|0.1=0,0,0|0.2=1,0.1,0|0.3=0,0,0|0.4=0,1,0|0.5=0,0,0|0.6=0,1,1|0.7=0,0,0|0.8=0.4,0,1|0.9=0,0,0|1.0=0,0.4,1|)

[CONDITION_5]
NAME=BALOON_FLAMES
INPUT=ONE
FLASHING_FREQUENCY=0.1
FLASHING_SMOOTHNESS=0.4
FLASHING_SKIP_OFF_STATE=0
FLASHING_SKIP_DOWNHILL_STATE=0
FLASHING_MIN_VALUE=0
FLASHING_SYNCED=0
FLASHING_NOISE_AMPLITUDE=0.1
FLASHING_NOISE_BOUND=1
FLASHING_NOISE_SPEED=20
FLASHING_LUT=(|0=0|0.8=0|0.895=0.5|0.9=1|0.905=0|1.0=0|)

[MATERIAL_ADJUSTMENT_0]
ACTIVE=1
VISIBILITY_LEVEL=0
DESCRIPTION=s/f racing light
MESHES=cautionlightstfn_003
KEY_0=ksEmissive
VALUE_0=255,255,255,0.25
VALUE_0_OFF=0, 0, 0
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=0, 0, 0
CONDITION=RACING_FLAG

[MATERIAL_ADJUSTMENT_1]
ACTIVE=1
VISIBILITY_LEVEL=1
DESCRIPTION=s/f racing flag bulbs 1
MESHES=flagger_lights, flagger_lights01
KEY_0=ksEmissive
VALUE_0=255,255,255,0.15
VALUE_0_OFF=0, 0, 0
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=0, 0, 0
CONDITION=FLAG_BLINK0

[MATERIAL_ADJUSTMENT_2]
ACTIVE=1
VISIBILITY_LEVEL=1
DESCRIPTION=s/f racing flag bulbs 2
MESHES=flagger_lights?_001
KEY_0=ksEmissive
VALUE_0=255,255,255,0.15
VALUE_0_OFF=0, 0, 0
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=0, 0, 0
CONDITION=FLAG_BLINK1

[MATERIAL_ADJUSTMENT_3]
ACTIVE=1
VISIBILITY_LEVEL=1
DESCRIPTION=s/f racing flag bulbs 3
MESHES=flagger_lights?_002
KEY_0=ksEmissive
VALUE_0=255,255,255,0.15
VALUE_0_OFF=0, 0, 0
KEY_1=ksAlphaRef
VALUE_1=-193
VALUE_1_OFF=0, 0, 0
CONDITION=FLAG_BLINK2

[SHADER_REPLACEMENT_...]
MATERIALS=?HUT?,?fenc?,?FENC?,?build?
MESHES=?wal?,?gs?
DOUBLE_FACE_SHADOW_BIASED = 1

[SHADER_REPLACEMENT_...]
MATERIALS=DAYTONACLUB01,mel_pit_building_b_02
EXTRA_MASK_PASS = 1

[GRASS_FX]
GRASS_MATERIALS=gras?,GRAS?
SHAPE_TIDY=1
SHAPE_CUT = 1
TRIM_PERIOD=THURSDAY

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_4]
ACTIVE=1
MATERIALS=MATspots,MATfloodlightcorners,MATmuscoinfield
KEY_0=ksEmissive
VALUE_0=120,120,120,1
CONDITION=NIGHT_SMOOTH

[MATERIAL_ADJUSTMENT_5]
MATERIALS=NIG?,DAY?,SUNOCO
KEY_0=ksAmbient
VALUE_0=0.3
VALUE_0_OFF=0.3
KEY_1=ksEmissive
VALUE_1=1,1,1
VALUE_1_OFF=0,0,0
CONDITION=NIGHT_SMOOTH

[MATERIAL_ADJUSTMENT_6]
MATERIALS=MATmusco
KEY_0=ksEmissive
VALUE_0=120,120,150,1
CONDITION=NIGHT_SMOOTH

;;;;;;;;;;;;;;;;;;;;;;

[LIGHT_SERIES_0]
ACTIVE=1
MATERIALS=MATmusco
DIRECTION=NORMAL
COLOR=120,120,150,0.05
RANGE=30
SPOT=160
FADE_AT=570
RANGE_GRADIENT_OFFSET=0.3
DIFFUSE_CONCENTRATION=0.7

[LIGHT_SERIES_1]
ACTIVE=1
MESHES=aaa_spots1
DIRECTION=NORMAL
RANGE=100
CLUSTER_THRESHOLD=35
OFFSET=0,0,0
SPOT=170
COLOR=1,1,1,15
DIFFUSE_CONCENTRATION=0.7
FADE_AT=780

[LIGHT_SERIES_2]
ACTIVE=1
DESCRIPTION=tribunes left+right
MESHES=aaa_spots2
DIRECTION=NORMAL
RANGE=70
CLUSTER_THRESHOLD=20
SPOT=180
COLOR=1,1,1,10
RANGE_GRADIENT_OFFSET=0.3
DIFFUSE_CONCENTRATION=0.7
FADE_AT=1200

[LIGHT_SERIES_3]
ACTIVE=1
MESHES=aaa_spotscorners
SPOT=180
RANGE=60
FADE_AT=1200
CLUSTER_THRESHOLD=30
RANGE_GRADIENT_OFFSET=0.2
DIFFUSE_CONCENTRATION=0.8
COLOR=1,1,1,15

[LIGHT_SERIES_4]
MESHES=aaa_infield_smallspots
CLUSTER_THRESHOLD=20
SPOT=180
RANGE=50
RANGE_GRADIENT_OFFSET=0.1
DIRECTION=NORMAL
COLOR=1,1,1,8

[LIGHT_SERIES_5]
ACTIVE=1
MESHES=aaa_spotsinfield
CLUSTER_THRESHOLD=30
SPOT=170
RANGE=80
COLOR=1,1,1,8
RANGE_GRADIENT_OFFSET=0.2

[LIGHT_SERIES_14]
DESCRIPTION=pits
MATERIALS=gazebo_c_02_vari
SPOT=170
RANGE=40
COLOR=10,10,10,1
RANGE_GRADIENT_OFFSET=0.4

;;;;;;;;;;;;;;;;;;;;;;;
; line lights
[LIGHT_0]
ACTIVE=1
DESCRIPTION=main tribune center
LINE_FROM=-46.2297, 48.4117, 44.1198
LINE_TO=57.663, 47.9363, 42.7092
RANGE=90
OFFSET=0,4,0
SPOT=120
COLOR=1,1,1,10
DIFFUSE_CONCENTRATION=0.8
FADE_AT=1200

[LIGHT_1]
ACTIVE=1
DESCRIPTION=main tribune center below
LINE_FROM=-38, 20, 30.0
LINE_TO=46, 19.5, 29.5
RANGE=80
SPOT=180
COLOR=1,1,1,10
DIFFUSE_CONCENTRATION=0.8
SPOT_SHARPNESS=0.0
RANGE_GRADIENT_OFFSET=0.5
FADE_AT=1200

[LIGHT_2]
ACTIVE=1
DESCRIPTION=main tribune center below
LINE_FROM=154.4318, 8, -12.6877
LINE_TO=-160.8963, 7, -10.1465
RANGE=30
SPOT=180
COLOR=1,1,1,5
DIFFUSE_CONCENTRATION=0.0
SPOT_SHARPNESS=0.0
RANGE_GRADIENT_OFFSET=0.0
FADE_AT=1200

[LIGHT_3]
ACTIVE=1
DESCRIPTION=counter straight
LINE_FROM=-134.7077, 8.6305, -796.1967
LINE_TO=-313.3916, 7.844, -774.4047
RANGE=50
SPOT=360
COLOR=1,1,1,5
DIFFUSE_CONCENTRATION=0
SPOT_SHARPNESS=0
RANGE_GRADIENT_OFFSET=0
FADE_AT=650

;;;;;;;;;;;;;;;;;;

[MATERIAL_ADJUSTMENT_15]
ACTIVE = 1
VISIBILITY_LEVEL = 1
DESCRIPTION = ferriswheel spots
MESHES = aaa_ferrisspots
KEY_0 = ksEmissive
VALUE_0 = 215, 239, 255,3
VALUE_0_OFF = 0, 0, 0
KEY_1 = ksAlphaRef
VALUE_1 = -193
VALUE_1_OFF = 0, 0, 0
KEY_2 = ksAmbient
VALUE_2 = 0.175
VALUE_2_OFF = 0.5
KEY_3 = ksDiffuse
VALUE_3 = 0.2
VALUE_3_OFF = 0.2
CONDITION = DISCOLIGHTS

[LIGHT_SERIES_12]
ACTIVE = 1
VISIBILITY_LEVEL = 1
DESCRIPTION = ferriswheel
MESHES = aaa_ferrisspots
OFFSET = 0,0,0
DIRECTION = 0,-1,0
SPOT = 180
SPOT_SHARPNESS = 0.8
RANGE = 20
RANGE_GRADIENT_OFFSET = 0.8
FADE_AT = 800
FADE_SMOOTH = 50
DIFFUSE_CONCENTRATION = 0.5
CLUSTER_THRESHOLD = 25
COLOR = 215, 239, 255, 0.1
COLOR_OFF = 0
CONDITION = DISCOLIGHTS

[LIGHT_SERIES_13]
ACTIVE = 1
VISIBILITY_LEVEL = 2
DESCRIPTION = ferriswheel normal light
MESHES = ferriswheel_KSLAYER4
OFFSET = 0,-25,0
DIRECTION = 0,1,0
SPOT = 180
SPOT_SHARPNESS = 0.8
RANGE = 50
RANGE_GRADIENT_OFFSET = 0.8
FADE_AT = 800
FADE_SMOOTH = 50
DIFFUSE_CONCENTRATION = 0.5
CLUSTER_THRESHOLD = 25
COLOR = 215, 239, 255, 0.025
COLOR_OFF = 0
CONDITION = NIGHT_SMOOTH


; made by Paintbox
; src: https://www.gtplanet.net/forum/threads/assetto-corsa-pc-mods-general-discussion.307899/post-13288340

[RAIN_FX]
PUDDLES_MATERIALS = ROAD_MAIN_WET, ROAD_PIT_WET, ROAD_TRACKMSIDE_WET
SOAKING_MATERIALS = ROAD_MAIN_WET, ROAD_PIT_WET, ROAD_TRACKMSIDE_WET, ROAD_TRACKBLUE_WET, ROAD_TRACKYELLOW_WET, ROAD_TARCKRED_WET
SMOOTH_MATERIALS = CMWL_SPONSERS_A, CMWL_SPONSERS_B, CMWL_SPONSERS_C, CMWL_CONCWALL_A, BLD_LM_RACE_CONTROL_CONCRETEA, BLD_LM_RACE_CONTROL_SIGNS_01, BLD_LM_RACE_CONTROL_GLASS_A, bridge_start_podium_SUB2, CLOCK, BLD_LM_CONCRETE, PIT_BACKBOARD_02, BLD_LM_CONCRETE_WHITE, PSTAND01, PSTANDWALL02, PSTANDWALL01, TWAL_LM_TIRES_YB_WALL, TWALL_LM_COVER, lm_scoretower_SUB0.001, lm_scoretower_SUB1.001, LEMANS_SPONSOR_02_DEL, LM_STARTLIGHT
ROUGH_MATERIALS = ksPerPixelMultiMap_NMDetail, GRASS_TERRAIN_INROAD_TARMACGREEN_WET
LINES_MATERIALS = STRP_ROADLINE_B, STRP_ROADLINE_A, STRP_ROADLINE_B, STRP_GRID

;Bridges
STREAM_EDGE_... = -1164.66, 59.09, -1237.4, -1150.68, 58.95, -1237.28
STREAM_EDGE_... = -1142.92, 59.07, -1289.49, -1161.78, 59.08, -1289.99
STREAM_EDGE_... = 734.98, 78.66, 2555.68, 743.94, 78.65, 2537
STREAM_EDGE_... = 249.9, 70.63, 2304.37, 260.43, 70.63, 2289.26
STREAM_EDGE_... = -387.9, 60.76, 1813.74, -395.66, 60.8, 1793.8
STREAM_EDGE_... = -634.25, 58.17, 1654.05, -613.88, 58.16, 1649.12
STREAM_EDGE_... = -931.55, 55.49, 332.84, -912.02, 55.49, 331.53
STREAM_EDGE_... = -967.75, 50.91, -420.96, -954.22, 50.81, -418.64

;Overhangs
STREAM_EDGE_... = -1176.37, 61.44, -1332.76, -1181.89, 61.44, -1332.97
STREAM_POINT_... = -1176.09, 60.91, -1332.67
STREAM_EDGE_... = -1164.42, 58.27, -1290.08, -1166.42, 58.21, -1290.13
STREAM_EDGE_... = -1191.38, 63.23, -1288.85, -1190.65, 63.24, -1285.64
STREAM_EDGE_... = -1156.37, 75.77, -1620.9, -1148.64, 75.39, -1620.5
STREAM_EDGE_... = -1121.07, 65.82, -1252.86, -1123.67, 65.86, -1253.17

;Lights
STREAM_EDGE_... = 831.58, 61.63, -544.29, 832.54, 61.63, -544.44

;Buildings
STREAM_EDGE_... = -1200.17, 70.91, -1292.25, -1199.21, 70.91, -1331.94
STREAM_EDGE_... = -1199.45, 70.04, -1336.05, -1198.14, 70.04, -1398.64
STREAM_EDGE_... = -1198.13, 70.35, -1404.49, -1196.52, 70.35, -1471.25
STREAM_EDGE_... = -1191.86, 74.74, -1548.91, -1191.1, 74.74, -1586.91
STREAM_EDGE_... = -262.8, 78.37, -2567.34, -270.4, 78.39, -2585.87
STREAM_EDGE_... = -798.59, 89.31, -2155.01, -814.78, 89.49, -2182.53
