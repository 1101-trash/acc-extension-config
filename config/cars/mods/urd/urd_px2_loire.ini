; Custom Shaders Patch config for URD PX2 Loire (Oreca O5)
;
; Major features different from the "guessed" values:
; - instrument panel lights up with headlights
; - dashboard labels light up with headlights
; - brake lights are now explicitly defined
; - "legality panel" brake lights now light up (sort of)
; - "legality panel" lights now illuminate with headlights
;
; The "glow" effects for the rear diffuser ("legality panel")
; are achieved in a hacky way by shining actual light effects
; forward toward the appropriate spots on the car. We can't
; simply use an EMISSIVE like we should, because URD didn't
; define those LED-like elements as their own object in the
; car model. If you assign an emissive to one of the parts near
; the lights, you either light up the windows, or the chassis.
; So we get to use this hack instead.
; The "right" fix would be to include a .kn5 patch that defines
; some LED-like objects in the model, and then change this file
; to light those up appropriately.

[EMISSIVE_LIGHT_...]
; changes instrument panel glow to link with headlights
NAME=rpx1_sw_ads
BIND_TO_HEADLIGHTS=1
COLOR=0.6,0.6,1,1.5
EXTERIOR_ONLY=0
INTERIOR_ONLY=1
LAG=0
OFF_COLOR=1,1,1,0.6

[EMISSIVE_LIGHT_...]
; steering wheel labels glow with headlights
NAME=rpx1_sw_badges
BIND_TO_HEADLIGHTS=1
COLOR=0.8,1,0.2,0.5
LAG=0
OFF_COLOR=0
EXTERIOR_ONLY=0
INTERIOR_ONLY=1

[EMISSIVE_LIGHT_...]
; dashboard labels glow with headlights
NAME=rpx1_cockpit_badges
BIND_TO_HEADLIGHTS=1
COLOR=0.8,1,0.2,0.5
LAG=0
OFF_MULT=0
EXTERIOR_ONLY=0
INTERIOR_ONLY=1

[LIGHT_BRAKE_...]
; top brake lights
; similar to the auto-guess but with some tweaks
NAME=Brake_Lights
AFFECTS_TRACK=1
COLOR=1,0,0,2
DIFFUSE_CONCENTRATION=0.88
DIRECTION=0,0,-1
EXTERIOR_ONLY=1
FADE_AT=120
FADE_SMOOTH=30
INTERIOR_ONLY=0
LAG=0
LOCATION=REAR
NO_SELF_SPECULAR=1
OFF_MULT=0
RANGE=10
RANGE_GRADIENT_OFFSET=0.25
SPOT=160
SPOT_EDGE=0.34,0.34,0.34
SPOT_EDGE_SHARPNESS=10
SPOT_SHARPNESS=0.375

[LIGHT_BRAKE_...]
; legality panel brake light beam
AFFECTS_TRACK=1
COLOR=1,0,0,2
DIFFUSE_CONCENTRATION=0.88
DIRECTION=0,0,-1
EXTERIOR_ONLY=1
FADE_AT=80
FADE_SMOOTH=20
INTERIOR_ONLY=0
LAG=0
LOCATION=REAR
MIRROR=0.615
NO_SELF_SPECULAR=1
OFF_MULT=0
POSITION=0, 0.13, -2.13
RANGE=5
RANGE_GRADIENT_OFFSET=0.25
SPOT=45
SPOT_EDGE=0.34,0.34,0.34
SPOT_EDGE_SHARPNESS=10
SPOT_SHARPNESS=0.250

[LIGHT_BRAKE_...]
; legality panel brake light glow
; This is a bit of a hack. See comments at top of file.
AFFECTS_TRACK=1
COLOR=1,0,0,10
DIFFUSE_CONCENTRATION=0.25
DIRECTION=0,0,1
EXTERIOR_ONLY=1
FADE_AT=80
FADE_SMOOTH=0.9
INTERIOR_ONLY=0
LAG=0
LOCATION=REAR
MIRROR=0.606
NO_SELF_SPECULAR=1
OFF_MULT=0
POSITION=0, 0.145, -2.39
RANGE=0.8
RANGE_GRADIENT_OFFSET=0.01
SPOT=45
SPOT_EDGE=1,1,1
SPOT_EDGE_SHARPNESS=0.75
SPOT_SHARPNESS=1

[LIGHT_EXTRA_...]
; legality panel tail light beams with headlights
; This is essentially a copy of the brake light beams above.
AFFECTS_TRACK=1
BIND_TO_HEADLIGHTS=1
COLOR=1,0,0,1
DIFFUSE_CONCENTRATION=0.88
DIRECTION=0,0,-1
EXTERIOR_ONLY=1
FADE_AT=80
FADE_SMOOTH=20
INTERIOR_ONLY=0
LAG=0
LOCATION=REAR
MIRROR=0.615
NO_SELF_SPECULAR=1
OFF_MULT=0
POSITION=0, 0.13, -2.13
RANGE=5
RANGE_GRADIENT_OFFSET=0.25
SPOT=45
SPOT_EDGE=0.34,0.34,0.34
SPOT_EDGE_SHARPNESS=10
SPOT_SHARPNESS=0.250

[LIGHT_EXTRA_...]
; legality panel tail light glow with headlights
; This is a bit of a hack. See comments at top of file.
; This is essentially a copy of the brake light glow above.
AFFECTS_TRACK=1
BIND_TO_HEADLIGHTS=1
COLOR=1,0,0,6 
DIFFUSE_CONCENTRATION=0.25
DIRECTION=0,0,1
EXTERIOR_ONLY=1
FADE_AT=80
FADE_SMOOTH=0.9
INTERIOR_ONLY=0
LAG=0
LOCATION=REAR
MIRROR=0.606
NO_SELF_SPECULAR=1
OFF_MULT=0
POSITION=0, 0.145, -2.39
RANGE=0.8
RANGE_GRADIENT_OFFSET=0.01
SPOT=45
SPOT_EDGE=1,1,1
SPOT_EDGE_SHARPNESS=0.75
SPOT_SHARPNESS=1
